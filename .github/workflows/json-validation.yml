name: JSON Validation

on:
  push:
    branches: [main]
    paths:
      - '**.json'
      - '.github/workflows/json-validation.yml'
  pull_request:
    paths:
      - '**.json'
      - '.github/workflows/json-validation.yml'

jobs:
  validate-json:
    name: Validate JSON Files
    uses: ./.github/workflows/reusable-validation.yml
    with:
      file-pattern: '*.json'
      file-type: 'JSON Files'
      validation-command: 'python3 -m json.tool "$file" > /dev/null 2>&1 || { echo "ERROR: Invalid JSON in $file"; exit 1; }'
      success-message: 'âœ“ All JSON files are valid!'
