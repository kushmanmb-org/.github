# EIP-7976: Increase Calldata Floor Cost

## Overview

**EIP Number**: 7976  
**Title**: Increase Calldata Floor Cost  
**Author**: Toni Wahrst√§tter (@nerolation)  
**Status**: Draft  
**Type**: Standards Track  
**Category**: Core  
**Created**: 2025-06-18  
**Requires**: [EIP-7623](https://eips.ethereum.org/EIPS/eip-7623)

## Abstract

This EIP proposes an adjustment to calldata pricing by raising the floor cost from 10/40 to 64/64 gas per calldata byte. This reduces the worst-case block size by ~37% with minimal impact on regular users.

## Motivation

While [EIP-7623](https://eips.ethereum.org/EIPS/eip-7623) successfully reduced the maximum possible block size by introducing a floor cost of 10/40 gas per byte for data-heavy transactions, continued increases in gas limit demands further optimization. The current floor cost still permits relatively large data-heavy payloads that contribute to block size variance.

With 64/64 pricing, a 10 MiB uncompressed execution payload would require ~671M gas instead of ~105M gas under 10/40 pricing, providing significant headroom for gas limit increases.

By increasing the floor cost to 64/64 gas per byte, this proposal aims to:

- Further reduce the maximum possible block size for data-heavy transactions
- Create additional headroom for potential block gas limit increases
- Maintain the same exemption for transactions with significant EVM computation
- Have minimal impact on users

## Specification

### Parameters

| Parameter                    | Value |
| ---------------------------- | ----- |
| `STANDARD_TOKEN_COST`        | `4`   |
| `TOTAL_COST_FLOOR_PER_TOKEN` | `16`  |

### Formula

Let `tokens_in_calldata = zero_bytes_in_calldata + nonzero_bytes_in_calldata * 4`.

Let `floor_tokens_in_calldata = (zero_bytes_in_calldata + nonzero_bytes_in_calldata) * 4`.

Let `isContractCreation` be a boolean indicating the respective event.

Let `execution_gas_used` be the gas used for EVM execution with the gas refund subtracted.

Let `INITCODE_WORD_COST` be 2 as defined in [EIP-3860](https://eips.ethereum.org/EIPS/eip-3860).

The formula for determining the gas used per transaction changes from [EIP-7623](https://eips.ethereum.org/EIPS/eip-7623)'s implementation to:

```python
tx.gasUsed = (
    21000
    +
    max(
        STANDARD_TOKEN_COST * tokens_in_calldata
        + execution_gas_used
        + isContractCreation * (32000 + INITCODE_WORD_COST * words(calldata)),
        TOTAL_COST_FLOOR_PER_TOKEN * floor_tokens_in_calldata
    )
)
```

Any transaction with a gas limit below `21000 + TOTAL_COST_FLOOR_PER_TOKEN * floor_tokens_in_calldata` or below its intrinsic gas cost is considered invalid.

## Rationale

With [EIP-7623](https://eips.ethereum.org/EIPS/eip-7623)'s implementation, data-heavy transactions cost 10/40 gas per zero/non-zero byte, reducing the maximum possible EL payload size to approximately 1.07 MB (`45_000_000/40`). This EIP further reduces this to approximately 0.67 MB (`45_000_000/64`).

By increasing calldata costs from 10/40 to 64/64 gas per byte for data-heavy transactions, this EIP provides:

- **Enhanced block size reduction**: Maximum data-heavy payload size drops by ~37%
- **Maintained user experience**: Regular users engaging in DeFi, token transfers, and other EVM-heavy operations remain unaffected
- **Better blob incentivization**: Higher calldata costs further encourage migration to blob usage for data availability

The floor cost mechanism ensures that transactions involving significant EVM computation continue to pay the standard 4/16 gas per byte for calldata, preserving the user experience for regular Ethereum operations.

Analyzing the block range 20644414 - 23272414 (Sept. 2024 - Sept. 2025), 1.5% of all transactions would have been affected.

## Impact on kushmanmb-org Operations

### Transaction Cost Changes

For kushmanmb-org's blockchain operations:

1. **Regular Transactions** (DeFi, token transfers, ENS operations):
   - **No impact** - These transactions use significant EVM execution and continue to pay standard rates

2. **Data-Heavy Transactions** (if applicable):
   - Calldata costs increase from 10/40 to 64/64 gas per byte
   - Maximum data payload size reduced by ~37%

### Recommended Actions

- **Gas Estimation**: Update gas estimation logic to account for `TOTAL_COST_FLOOR_PER_TOKEN = 16`
- **Wallet Integration**: Ensure wallet software uses updated `eth_estimateGas` implementations
- **Transaction Monitoring**: Monitor transaction costs in consolidation workflows
- **Documentation**: Update internal documentation to reflect new gas pricing

### Affected Workflows

The following workflows may need updates:

- **crypto-consolidation.yml**: Gas estimation for consolidation transactions
- **balance-monitor.yml**: Gas cost tracking and reporting
- **tx-verification.yml**: Transaction validation with updated gas calculations

## Backwards Compatibility

This is a backwards incompatible gas repricing that requires a scheduled network upgrade.

Wallet developers and node operators MUST update gas estimation handling to accommodate the new calldata cost rules. Specifically:

1. **Wallets**: Wallets using `eth_estimateGas` MUST be updated to ensure correct accounting for `TOTAL_COST_FLOOR_PER_TOKEN = 16`
2. **Node Software**: RPC methods such as `eth_estimateGas` MUST incorporate the updated formula

## Security Considerations

As the maximum possible block size is further reduced compared to [EIP-7623](https://eips.ethereum.org/EIPS/eip-7623), no additional security concerns are introduced beyond those already addressed in the original proposal.

The increased floor cost strengthens the incentive structure for appropriate data availability method selection without introducing new attack vectors.

## References

- [EIP-7976 Official Specification](https://eips.ethereum.org/EIPS/eip-7976)
- [EIP-7623: Increase calldata cost](https://eips.ethereum.org/EIPS/eip-7623)
- [EIP-3860: Limit and meter initcode](https://eips.ethereum.org/EIPS/eip-3860)
- [Ethereum Magicians Discussion](https://ethereum-magicians.org/t/eip-7976-further-increase-calldata-cost/24597)

## Related Documentation

- [CRYPTO_CONSOLIDATION.md](CRYPTO_CONSOLIDATION.md) - Gas optimization strategies
- [IMPLEMENTATION_SUMMARY.md](IMPLEMENTATION_SUMMARY.md) - EIP support summary

---

*Documentation Date: 2026-02-21*  
*Status: Draft*  
*Relevant to: Ethereum Mainnet, Base, Optimism, Arbitrum*
